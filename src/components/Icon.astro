---
import ICONS from "../utils/icons.js";

const {
  name,
  size = 24,
  color = "currentColor",
  className = "",
  attrs = {},
} = Astro.props;

const Icon = ICONS[name];

if (!Icon) {
  console.error(`Icon "${name}" not found.`);
}

const svgMarkup = Icon
  ? `${ICONS.HEAD.slice(0, -1)} aria-hidden="true" width="${size}" height="${size}"
      fill="${color}" class="${className}" ${Object.entries(attrs)
        .map(([key, value]) => `${key}="${value}"`)
        .join(" ")}>${Icon}${ICONS.TAIL}`
  : null;
---

{
  svgMarkup ? (
    <div
      style="display: inline-block;"
      dangerouslySetInnerHTML={{ __html: svgMarkup }}
    />
  ) : null
}
